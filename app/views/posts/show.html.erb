<p class= 'title'>
  <%= @post.title %>
</p>

<p class= 'body'>
  <%= @post.body %>
</p>

<% if user_signed_in? %>
<%= link_to 'Edit', edit_post_path(@post), class: 'navButton' %>
<%= link_to 'Delete', post_path(@post), :method => :delete, class: 'navButton' %>
<% end %>
<%= link_to 'Back', posts_path, class: 'navButton' %>
<button data-bind="click: function() { show_comment_function() }" class='navButton'>Comment</button>

<%= render '/comments/form' %>

<div id='comments'>
  <p id='title'> Comments:</p>

  <% if @post.comments.any? %>
    <ol class="list"><%= render @comments%></ol>
  <% end %>
</div>
<script type="text/javascript">
  var comments = '<%= raw(escape_javascript(@comment_js)) %>'
  var post_id = <%= @post.id %>
  var viewModel = new CommentViewModel({comments: comments, post: post_id})
  ko.applyBindings(viewModel)
</script>